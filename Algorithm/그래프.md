# 그래프

그래프는 현실 세계의 사물이나 추상적인 개념 간의 연결 관계를 표현.  그래프 G(V, E)의 정의는 어떤 자료나 개념을 표현하는 정점(vertex)들의 집합 V와 이들을 연결하는 간선(edge)들의 집합 E로 구성된 자료 구조.  

## 그래프 용어

- 정점(vertex) : 객체
- 간선(edge) : 객체 간의 관계, 즉 정점들을 연결하는 선
- 인접 정점(adjacent vertex) : 간선에 의해 직접 연결된 정점
- 차수(degree) : 무방향 그래프에서 하나의 정점에 인접한 정점의 수
- 진입 차수(in-degree) : 방향 그래프에서 외부에서 오는 간선의 수
- 진출 차수(out-degre) : 방향 그래프에서 외부로 향하는 간선의 수
- 단순 경로(simple path) : 경로 중에서 반복되는 정점이 없는 경우
- 사이클(cycle) : 단순 경로의 시작 정점과 종료 정점이 동일한 경우

## 그래프의 종류

1. 방향 그래프 (directed graph)

- 간선에 방향성이 존재하는 그래프, A->B, <A, B>

2. 무방향 그래프 (undirected graph)

- 간선에 방향성이 없는 그래프, A-B, (A, B)

3. 가중치 그래프 (weighted graph)

- 간선에 가중치를 할당한 그래프

4. 다중 그래프 (multigraph) vs 단순 그래프 (simple graph)

- 두 정점 사이에 두 개 이상의 간선이 있는 경우 다중 그래프
- 두 정점 사이에 최대 한 개의 간선만 있는 경우 단순 그래프


5. 루트 없는 트리 (unrooted graph, 트리)

- 부모 자식 관계가 없는, 트리와 같은 무향 그래프.
- 간선을 통해 두 정점을 잇는 방법은 하나 뿐임.

6. 이분 그래프 (biparite graph)

- 그래프의 정점들을 겹치지 않는 두 개의 그룹으로 나눠서 서로 다른 그룹에 속한 정점들 간에만 간선이 존재하도록 만들 수 있는 그래프

7. 사이클 없는 방향 그래프 (directed acyclic graph, DAG)

- 방향 그래프로, 한 점에서 출밥ㄹ해 자기 자신으로 돌아오는 경로(사이클)가 존재하지 않는 경우


## 그래프 표현 방법

그래프는 트리에 비해 훨씬 정적인 용도로 사용. 즉, 새로운 정점이나 간선을 추가하고 삭제하는 일이 자주 일어나지 않음.  

그래프의 정점들을 객체의 인스턴스로 표현하는 대신 각 정점에 0부터 시작하는 번호를 붙이고, 배열에 각 정점의 정보를 저장함.

### 인접 리스트 표현

그래프의 각 정점마다 해당 정점에서 나가는 간선의 목록을 저장해서 그래프로 표현.  
```cpp
// 1번
vector<list<int>> adjacent; 
// 2번
struct Edge {
	int vertex; // 간선의 반대쪽 끝 점의 번호
	int weight; // 간선의 가중치
}
```

### 인접 행렬 표현

크기가 |V|*|V|인 2차원 배열에 그래프 간선의  정보를 저장. 이때 가중치 정보를 저장하려면 배열의 값을 정수나 실수로 두고, 두 정점 사이에 간선이 없을 경우 -1이나 큰 값 등으로 저장.

```cpp
vector<vector<int>> adjacent;
```

### 두 방법 비교

인접 리스트  
- 장점 : O(|V| + |E|) 공간 사용
- 단점 : 두 정점이 주어질 때 이 정점이 연결되어 있는지 확인하기 위해서 연결 리스트를 일일이 찾아야함.

인접 행렬  
- 장점 : 두 정점을 잇는 간선이 있는지를 한 번에 알 수 있음
- 단점 : 간선의 수와 관계없이 O(|V| * |V|) 공간 사용.


따라서 희소 그래프(sparse graph)에서는 인접 리스트를, 밀집 그래프(dense graph)에서는 인접 행렬을 사용하는 것이 좋음.


## 암시적 그래프

현실 세계에서 그래프 같은 형태를 갖는 구조가 아니라도 그래프를 통해 표현하면 쉽게 해결할 수 있는 문제를 말함.

- 위상 정렬
	- 서로 의존 관계에 있는 여러 할 일이 있을 때, 한 번에 하나씩 해결해 나갈 방법이 있는지, 있다면 어느 순서대로 해야하는 지 계산하는 문제.

- 15-퍼즐
	- 게임판에서 현재 타일의 배치를 하나의 정점으로 하고, 한 배치에서 타일을 한 번 움직여 다른 배치를 얻을 수 있는땓 두 정점을 간선으로 하는 그래프로 두고 문제를 해결할 수 있음.

- 게임판 덮기
	- 게임판의 막히지 않은 각 칸을 정점으로 하고, 상하좌우로 인접한 칸들 사이에 간선을 연결하는 그래프로 두고 해결 가능.

- 회의실 배정
	- N개의 팀이 각각 회의실을 사용하려고 할때, 모든 팀이 회의실을 사용할 수 있는 문제를 `만족성 문제(satisfiability problem)`라고 부름. 두 선택지 중 하나를 선택해야 하는 문제는 2-SAT.














